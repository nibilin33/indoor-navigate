window.onload=function(){var e={container:document.getElementById("container"),appName:"test",key:"164c72e9cf1a3612802eb070cf9a75f6",mapID:"1672189434932334594",level:1,mapZoom:19},o={speed:7,followPosition:!0,followAngle:!1,changeTiltAngle:!0,zoom:21,maxZoom:22},n=new fengmap.FMMap(e),a={level:1,url:"https://developer.fengmap.com/fmAPI/images/start.png",size:32,height:.5},t={level:1,url:"https://developer.fengmap.com/fmAPI/images/end.png",size:32,height:.5},i=0;n.on("click",(function(e){i++,console.log(e);var o=e.coords;i%2!=0?Object.assign(a,o):Object.assign(t,o)})),window.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){console.log("button");var i=new fengmap.FMNaviWalkAnalyser({map:n},(function(){console.log(n.getLevel());var e=new fengmap.FMNavigationWalk({map:n,analyser:i,locationMarkerUrl:"https://developer.fengmap.com/fmAPI/images/bluedot-arrow.png",locationMarkerSize:48,lineMarkerHeight:.5,locationMarkerHeight:.5});e.setStartPoint(a),e.setDestPoint(t),e.route({mode:fengmap.FMNaviMode.MODULE_BEST,priority:fengmap.FMNaviPriority.PRIORITY_DEFAULT},(function(o){e.drawNaviLine(),e.overview({ratio:1.5},(function(){console.log("自适应全览动画结束回调")}))}),(function(e){console.log("failed",e)})),e.simulate(o),e.on("walking",(function(o){console.log("路线总距离",e)}))}))}}))};