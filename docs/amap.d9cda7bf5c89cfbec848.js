(()=>{"use strict";var n={618:function(n){n.exports=function(){function n(n){var a=[];return n.AMapUI&&a.push(o(n.AMapUI)),n.Loca&&a.push(e(n.Loca)),Promise.all(a)}function o(n){return new Promise((function(o,e){var i=[];if(n.plugins)for(var c=0;c<n.plugins.length;c+=1)-1==t.AMapUI.plugins.indexOf(n.plugins[c])&&i.push(n.plugins[c]);if(r.AMapUI===a.failed)e("前次请求 AMapUI 失败");else if(r.AMapUI===a.notload){r.AMapUI=a.loading,t.AMapUI.version=n.version||t.AMapUI.version,c=t.AMapUI.version;var l=document.body||document.head,s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/ui/"+c+"/main.js",s.onerror=function(n){r.AMapUI=a.failed,e("请求 AMapUI 失败")},s.onload=function(){if(r.AMapUI=a.loaded,i.length)window.AMapUI.loadUI(i,(function(){for(var n=0,e=i.length;n<e;n++){var a=i[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}for(o();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()}));else for(o();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},l.appendChild(s)}else r.AMapUI===a.loaded?n.version&&n.version!==t.AMapUI.version?e("不允许多个版本 AMapUI 混用"):i.length?window.AMapUI.loadUI(i,(function(){for(var n=0,e=i.length;n<e;n++){var a=i[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}o()})):o():n.version&&n.version!==t.AMapUI.version?e("不允许多个版本 AMapUI 混用"):p.AMapUI.push((function(n){n?e(n):i.length?window.AMapUI.loadUI(i,(function(){for(var n=0,e=i.length;n<e;n++){var a=i[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}o()})):o()}))}))}function e(n){return new Promise((function(o,e){if(r.Loca===a.failed)e("前次请求 Loca 失败");else if(r.Loca===a.notload){r.Loca=a.loading,t.Loca.version=n.version||t.Loca.version;var i=t.Loca.version,c=t.AMap.version.startsWith("2"),l=i.startsWith("2");if(c&&!l||!c&&l)e("JSAPI 与 Loca 版本不对应！！");else{c=t.key,l=document.body||document.head;var s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/loca?v="+i+"&key="+c,s.onerror=function(n){r.Loca=a.failed,e("请求 AMapUI 失败")},s.onload=function(){for(r.Loca=a.loaded,o();p.Loca.length;)p.Loca.splice(0,1)[0]()},l.appendChild(s)}}else r.Loca===a.loaded?n.version&&n.version!==t.Loca.version?e("不允许多个版本 Loca 混用"):o():n.version&&n.version!==t.Loca.version?e("不允许多个版本 Loca 混用"):p.Loca.push((function(n){n?e(n):e()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a,i;(i=a||(a={})).notload="notload",i.loading="loading",i.loaded="loaded",i.failed="failed";var t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},r={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},p={AMap:[],AMapUI:[],Loca:[]},c=[];return{load:function(o){return new Promise((function(e,i){if(r.AMap==a.failed)i("");else if(r.AMap==a.notload){var p=o.key,l=o.version,s=o.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&i("禁止多种API加载方式混用"),t.key=p,t.AMap.version=l||t.AMap.version,t.AMap.plugins=s||t.AMap.plugins,r.AMap=a.loading,l=document.body||document.head,window.___onAPILoaded=function(t){if(delete window.___onAPILoaded,t)r.AMap=a.failed,i(t);else for(r.AMap=a.loaded,n(o).then((function(){e(window.AMap)})).catch(i);c.length;)c.splice(0,1)[0]()},(s=document.createElement("script")).type="text/javascript",s.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+t.AMap.version+"&key="+p+"&plugin="+t.AMap.plugins.join(","),s.onerror=function(n){r.AMap=a.failed,i(n)},l.appendChild(s)):i("请填写key")}else if(r.AMap==a.loaded)if(o.key&&o.key!==t.key)i("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)i("不允许多个版本 JSAPI 混用");else{if(p=[],o.plugins)for(l=0;l<o.plugins.length;l+=1)-1==t.AMap.plugins.indexOf(o.plugins[l])&&p.push(o.plugins[l]);p.length?window.AMap.plugin(p,(function(){n(o).then((function(){e(window.AMap)})).catch(i)})):n(o).then((function(){e(window.AMap)})).catch(i)}else if(o.key&&o.key!==t.key)i("多个不一致的 key");else if(o.version&&o.version!==t.AMap.version)i("不允许多个版本 JSAPI 混用");else{var u=[];if(o.plugins)for(l=0;l<o.plugins.length;l+=1)-1==t.AMap.plugins.indexOf(o.plugins[l])&&u.push(o.plugins[l]);!function(n){"function"==typeof n&&(r.AMap===a.loaded?n(window.AMap):c.push(n))}((function(){u.length?window.AMap.plugin(u,(function(){n(o).then((function(){e(window.AMap)})).catch(i)})):n(o).then((function(){e(window.AMap)})).catch(i)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},r={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},p={AMap:[],AMapUI:[],Loca:[]}}}}()}},o={};function e(a){var i=o[a];if(void 0!==i)return i.exports;var t=o[a]={exports:{}};return n[a].call(t.exports,t,t.exports,e),t.exports}e.n=n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return e.d(o,{a:o}),o},e.d=(n,o)=>{for(var a in o)e.o(o,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:o[a]})},e.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),(()=>{var n=e(618);function o(n){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o(n)}function a(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,a)}return e}function i(n,e,a){return(e=function(n){var e=function(n,e){if("object"!==o(n)||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var i=a.call(n,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"===o(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function t(n){window.requestAnimationFrame((function(){navigator.geolocation.getCurrentPosition((function(o){return n.innerHTML="".concat(o.coords.latitude,",").concat(o.coords.longitude),t(n),function(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?a(Object(e),!0).forEach((function(o){i(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}({},o.coords)}),(function(o){n.innerHTML=o.message}))}))}e.n(n)().load({key:"2867cc38b67bdc7b831002d63464ba2c",version:"2.0",plugins:["AMap.Geocoder","AMap.IndoorMap","AMap.IndoorPath","AMap.TileLayer"]}).then((function(n){t(document.getElementById("cords"));var o=new n.Geocoder({city:"杭州市"}),e=new n.IndoorMap({alwaysShow:!0}),a=new n.Map("container",{zoom:18,resizeEnable:!0,showIndoorMap:!1,layers:[e,new n.TileLayer]});e.showIndoorMap("B023B0A4ZD"),o.getLocation("杭州市钱塘区金沙大道97号杭州金沙印象城B1层",(function(n,o){"OK"===o.info&&(console.log(n),o.geocodes[0].location)}));var i=[];a.on("click",(function(o){var e=o.lnglat;i.push.apply(i,[e.lng,e.lat]);var t=new n.Marker({position:[e.lng,e.lat]});a.add(t)}))}))})()})();